saveRDS(plant_combined_data_rp,"./01_input/combined_pland_data_clean_rp.rds")
ggplot(plant_combined_data_rp, aes(x = factor(farming_system), y = measurement, fill = variable)) +
geom_boxplot() +
facet_wrap(~variable, scales = "free_y") +
labs(x = "Farming System", y = "Measurement", fill = "Variable") +
scale_fill_brewer(palette = "Set2") +
theme_minimal()
ggplot(plant_combined_data_rp, aes(x = variable, y = measurement, color = factor(farming_system))) +
geom_point(position = position_jitterdodge(jitter.width = 0.2), size = 2) +
stat_summary(fun = mean, geom = "point", shape = 18, size = 3,
position = position_dodge(width = 0.75)) +
theme_minimal()
ggplot(plant_combined_data_rp, aes(x = factor(farming_system), y = measurement, fill = variable)) +
geom_boxplot() +
facet_grid(variable ~ location, scales = "free_y") +
theme_minimal()
ggplot(plant_combined_data_rp, aes(x = factor(farming_system), y = measurement, fill = variable)) +
geom_boxplot() +
coord_flip()+
facet_grid(variable ~ location, scales = "free_y") +
theme_minimal()
ggplot(plant_combined_data_rp, aes(x = factor(farming_system), y = measurement, fill = variable)) +
geom_boxplot() +
facet_grid(variable ~ location, scales = "free_y") +
theme_minimal()
summary_df <- plant_combined_data_rp %>%
group_by(farming_system, variable) %>%
summarise(mean_value = mean(measurement, na.rm = TRUE), .groups = "drop")
ggplot(summary_df, aes(x = variable, y = factor(farming_system), fill = mean_value)) +
geom_tile(color = "white") +
scale_fill_viridis_c() +
labs(x = "Variable", y = "System", fill = "Mean Measurement") +
theme_minimal()
#3. create plots####
mean_lines <- plant_combined_data_rp %>%
group_by(variable,farming_system) %>%
summarise(mean_value = mean(measurement,na.rm=TRUE),.groups = "drop")
plant_plot <- thesis_plot(plant_combined_data_rp,plant_combined_data_rp$sample_name,
plant_combined_data$measurement,mean_lines)
plant_plot <- thesis_plot(plant_combined_data_rp,plant_combined_data_rp$sample_name,
plant_combined_data$measurement,mean_lines)+
facet_wrap(vars(variable))
plant_plot
plant_plot <- thesis_plot(plant_combined_data_rp,plant_combined_data_rp$sample_name,
plant_combined_data$measurement,mean_lines)+
facet_wrap(vars(variable),scales = "free_y")
plant_plot
plant_plot <- thesis_plot(plant_combined_data_rp,plant_combined_data_rp$sample_name,
plant_combined_data$measurement,mean_lines)+
stat_summary(
fun = mean,
geom = "point",
aes(shape = "Mean Value"),
shape = 8,
color = "black",  # Color of the mean line (you can change this as needed)
size = 2,) +
facet_wrap(vars(variable),scales = "free_y")
plant_plot
#long chlorophyll data
chlorophyll_data_long_clean <- readRDS("./01_input/plant_chlorophyll_data_clean_long.rds")
#long chlorophyll data
chlorophyll_data_long_clean <- readRDS("./01_input/plant_chlorophyll_data_clean_long.rds")
View(chlorophyll_data_long_clean)
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean,aes(x=substr(sample_name,1,3),y=chlorophyll_value,pattern = chlorophyll_type))+
geom_boxplot()+
ggtitle("Chlorophyll Content of Oilseed Rape leaves per field")+
labs(x="Field Numbers",y="SPAD values")+
stat_summary(fun = mean, geom = "point", aes(shape = factor(farming_system)), size = 3.5, colour = "black") +
scale_shape_manual(values = chlorophyll_data_long_clean_rp$shape, labels = c("Regenerative", "Conventional")) +
scale_fill_manual(values = location_colors,labels = c("Freudwil","Niederhasli","Läufelfingen",
"Heimenhausen","Heimiswil","Ueberstorf"))+
scale_colour_manual(values = c("lightgreen","lightblue"),labels = c("Chlorophyll Front", "Chlorophyll Mid"))+
labs(fill = "Location",shape="Farming System", colour = "Measurement Point")+
theme_minimal()
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean,aes(x=substr(sample_name,1,3),y=chlorophyll_value,pattern = chlorophyll_type))+
geom_boxplot()+
ggtitle("Chlorophyll Content of Oilseed Rape leaves per field")+
labs(x="Field Numbers",y="SPAD values")+
stat_summary(fun = mean, geom = "point", aes(shape = factor(farming_system)), size = 3.5, colour = "black") +
scale_shape_manual(values = chlorophyll_data_long_clean_rp$shape, labels = c("Regenerative", "Conventional")) +
scale_fill_manual(values = location_colors,labels = c("Freudwil","Niederhasli","Läufelfingen",
"Heimenhausen","Heimiswil","Ueberstorf"))+
scale_colour_manual(values = c("lightgreen","lightblue"),labels = c("Chlorophyll Front", "Chlorophyll Mid"))+
labs(fill = "Location",shape="Farming System", colour = "Measurement Point")+
theme_minimal()
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean,aes(x=substr(sample_name,1,3),y=chlorophyll_value,pattern = chlorophyll_type))+
geom_boxplot()+
ggtitle("Chlorophyll Content of Oilseed Rape leaves per field")+
labs(x="Field Numbers",y="SPAD values")+
stat_summary(fun = mean, geom = "point", aes(shape = factor(farming_system)), size = 3.5, colour = "black") +
theme_minimal()
chlorophyll_plot
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean,aes(x=substr(sample_name,1,3),y=chlorophyll_value,pattern = chlorophyll_type))+
geom_boxplot()+
ggtitle("Chlorophyll Content of Oilseed Rape leaves per field")+
labs(x="Field Numbers",y="SPAD values")+
theme_minimal()
chlorophyll_plot
#3.1 Chlorophyll plot
chlorophyll_data_long_clean_rp <- plot_prepr(chlorophyll_data_long_clean)
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean_rp,aes(x=substr(sample_name,1,3),y=chlorophyll_value,pattern = chlorophyll_type))+
geom_boxplot()+
ggtitle("Chlorophyll Content of Oilseed Rape leaves per field")+
labs(x="Field Numbers",y="SPAD values")+
theme_minimal()
chlorophyll_plot
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean_rp,aes(x=substr(sample_name,1,3),y=chlorophyll_value,pattern = chlorophyll_type))+
geom_boxplot()+
ggtitle("Chlorophyll Content of Oilseed Rape leaves per field")+
labs(x="Field Numbers",y="SPAD values")+
theme_minimal()
chlorophyll_plot
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean_rp,aes(x=substr(sample_name,1,3),y=chlorophyll_value,pattern = chlorophyll_type))+
geom_boxplot_pattern(
pattern_density = 0.1,
pattern_spacing = 0.03,
pattern_fill = "#2C3E50",  # pattern color
pattern_colour = "black",
alpha = 0.8
) +  ggtitle("Chlorophyll Content of Oilseed Rape leaves per field")+
labs(x="Field Numbers",y="SPAD values")+
theme_minimal()
library(ggpattern)
install.packages(ggpattern)
library(ggpattern)
library(ggpattern)
install.package("ggpattern")
install.packages("ggpattern")
library(ggpattern)
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean_rp,aes(x=substr(sample_name,1,3),y=chlorophyll_value,pattern = chlorophyll_type))+
geom_boxplot_pattern(
pattern_density = 0.1,
pattern_spacing = 0.03,
pattern_fill = "#2C3E50",  # pattern color
pattern_colour = "black",
alpha = 0.8
) +  ggtitle("Chlorophyll Content of Oilseed Rape leaves per field")+
labs(x="Field Numbers",y="SPAD values")+
theme_minimal()
chlorophyll_plot
str(chlorophyll_data_long_clean_rp$chlorophyll_value)
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean_rp,aes(x=substr(sample_name,1,3),y=chlorophyll_value))+
geom_boxplot_pattern(
pattern = chlorophyll_type
) +  ggtitle("Chlorophyll Content of Oilseed Rape leaves per field")+
labs(x="Field Numbers",y="SPAD values")+
theme_minimal()
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean_rp,aes(x=substr(sample_name,1,3),y=chlorophyll_value))+
geom_boxplot_pattern(
pattern = chlorophyll_data_long_clean_rp$chlorophyll_type
) +  ggtitle("Chlorophyll Content of Oilseed Rape leaves per field")+
labs(x="Field Numbers",y="SPAD values")+
theme_minimal()
chlorophyll_plot
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean_rp,aes(x=substr(sample_name,1,3),y=chlorophyll_value,fill = chlorophyll_type))+
geom_boxplot()
ggtitle("Chlorophyll Content of Oilseed Rape leaves per field")+
labs(x="Field Numbers",y="SPAD values")+
theme_minimal()
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean_rp,aes(x=substr(sample_name,1,3),y=chlorophyll_value,fill = chlorophyll_type))+
geom_boxplot()+
ggtitle("Chlorophyll Content of Oilseed Rape leaves per field")+
labs(x="Field Numbers",y="SPAD values")+
theme_minimal()
chlorophyll_plot
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean_rp,aes(x=substr(sample_name,1,3),y=chlorophyll_value,fill = chlorophyll_type))+
geom_boxplot()+
scale_fill_manual(alpha = 0.5)
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean_rp,aes(x=substr(sample_name,1,3),y=chlorophyll_value,fill = chlorophyll_type))+
geom_boxplot(alpha =0.6)+
scale_fill_manual()
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean_rp,aes(x=substr(sample_name,1,3),y=chlorophyll_value,fill = chlorophyll_type))+
geom_boxplot(alpha =0.6)+
scale_fill_manual()+
ggtitle("Chlorophyll Content of Oilseed Rape leaves per field")+
labs(x="Field Numbers",y="SPAD values")+
theme_minimal()
chlorophyll_plot
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean_rp,aes(x=substr(sample_name,1,3),y=chlorophyll_value,fill = chlorophyll_type))+
geom_boxplot(alpha =0.6)+
ggtitle("Chlorophyll Content of Oilseed Rape leaves per field")+
labs(x="Field Numbers",y="SPAD values")+
theme_minimal()
chlorophyll_plot
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean_rp,aes(x=substr(sample_name,1,3),y=chlorophyll_value,fill = chlorophyll_type))+
geom_boxplot(alpha =0.6)+
ggtitle("Chlorophyll Content of Oilseed Rape leaves per field")+
labs(x="Field Numbers",y="SPAD values")+
theme_minimal()+
theme(
plot.title = element_text(size = 15,face = "bold",hjust = 0.5),
axis.title.x = element_text(size=13),
axis.title.y = element_text(size=13),
axis.text.x = element_text(size = 11,angle = 45,hjust = 1),
axis.text.y = element_text(size =11),
strip.text = element_text(size = 13),
legend.text = element_text(size = 11),
legend.title = element_text(size = 13),
legend.position = "bottom"
)
chlorophyll_plot
viridis(2)
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean_rp,aes(x=substr(sample_name,1,3),y=chlorophyll_value,fill = chlorophyll_type))+
geom_boxplot(alpha =0.6)+
ggtitle("Chlorophyll Content of Oilseed Rape leaves per field")+
labs(x="Field Numbers",y="SPAD values")+
scale_colour_manual(c("#440154FF","#FDE725FF"),c("Chlorophyll front","Chlorophyll mid"))+
theme_minimal()+
theme(
plot.title = element_text(size = 15,face = "bold",hjust = 0.5),
axis.title.x = element_text(size=13),
axis.title.y = element_text(size=13),
axis.text.x = element_text(size = 11,angle = 45,hjust = 1),
axis.text.y = element_text(size =11),
strip.text = element_text(size = 13),
legend.text = element_text(size = 11),
legend.title = element_text(size = 13),
legend.position = "bottom"
)
chlorophyll_plot
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean_rp,aes(x=substr(sample_name,1,3),y=chlorophyll_value,fill = chlorophyll_type))+
geom_boxplot(alpha =0.6)+
ggtitle("Chlorophyll Content of Oilseed Rape leaves per field")+
labs(x="Field Numbers",y="SPAD values")+
scale_fill_manual(c("#440154FF","#FDE725FF"),c("Chlorophyll front","Chlorophyll mid"))+
theme_minimal()+
theme(
plot.title = element_text(size = 15,face = "bold",hjust = 0.5),
axis.title.x = element_text(size=13),
axis.title.y = element_text(size=13),
axis.text.x = element_text(size = 11,angle = 45,hjust = 1),
axis.text.y = element_text(size =11),
strip.text = element_text(size = 13),
legend.text = element_text(size = 11),
legend.title = element_text(size = 13),
legend.position = "bottom"
)
chlorophyll_plot
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean_rp,aes(x=substr(sample_name,1,3),y=chlorophyll_value,fill = chlorophyll_type))+
geom_boxplot(alpha =0.6)+
ggtitle("Chlorophyll Content of Oilseed Rape leaves per field")+
labs(x="Field Numbers",y="SPAD values")+
scale_fill_manual(values = c("#440154FF","#FDE725FF"),c("Chlorophyll front","Chlorophyll mid"))+
theme_minimal()+
theme(
plot.title = element_text(size = 15,face = "bold",hjust = 0.5),
axis.title.x = element_text(size=13),
axis.title.y = element_text(size=13),
axis.text.x = element_text(size = 11,angle = 45,hjust = 1),
axis.text.y = element_text(size =11),
strip.text = element_text(size = 13),
legend.text = element_text(size = 11),
legend.title = element_text(size = 13),
legend.position = "bottom"
)
chlorophyll_plot
turbo(2)
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean_rp,aes(x=substr(sample_name,1,3),y=chlorophyll_value,fill = chlorophyll_type))+
geom_boxplot(alpha =0.6)+
ggtitle("Chlorophyll Content of Oilseed Rape leaves per field")+
labs(x="Field Numbers",y="SPAD values")+
scale_fill_manual(values = c("#30123BFF" , "#7A0403FF"),c("Chlorophyll front","Chlorophyll mid"))+
theme_minimal()+
theme(
plot.title = element_text(size = 15,face = "bold",hjust = 0.5),
axis.title.x = element_text(size=13),
axis.title.y = element_text(size=13),
axis.text.x = element_text(size = 11,angle = 45,hjust = 1),
axis.text.y = element_text(size =11),
strip.text = element_text(size = 13),
legend.text = element_text(size = 11),
legend.title = element_text(size = 13),
legend.position = "bottom"
)
chlorophyll_plot
magma(2)
plasma(2)
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean_rp,aes(x=substr(sample_name,1,3),y=chlorophyll_value,fill = chlorophyll_type))+
geom_boxplot(alpha =0.6)+
ggtitle("Chlorophyll Content of Oilseed Rape leaves per field")+
labs(x="Field Numbers",y="SPAD values")+
scale_fill_manual(values = c( "#0D0887FF" "#F0F921FF"),c("Chlorophyll front","Chlorophyll mid"))+
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean_rp,aes(x=substr(sample_name,1,3),y=chlorophyll_value,fill = chlorophyll_type))+
geom_boxplot(alpha =0.6)+
ggtitle("Chlorophyll Content of Oilseed Rape leaves per field")+
labs(x="Field Numbers",y="SPAD values")+
scale_fill_manual(values = c( "#0D0887FF" ,"#F0F921FF"),c("Chlorophyll front","Chlorophyll mid"))+
theme_minimal()+
theme(
plot.title = element_text(size = 15,face = "bold",hjust = 0.5),
axis.title.x = element_text(size=13),
axis.title.y = element_text(size=13),
axis.text.x = element_text(size = 11,angle = 45,hjust = 1),
axis.text.y = element_text(size =11),
strip.text = element_text(size = 13),
legend.text = element_text(size = 11),
legend.title = element_text(size = 13),
legend.position = "bottom"
)
chlorophyll_plot
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean_rp,aes(x=substr(sample_name,1,3),y=chlorophyll_value,fill = chlorophyll_type))+
geom_boxplot(alpha =0.5)+
ggtitle("Chlorophyll Content of Oilseed Rape leaves per field")+
labs(x="Field Numbers",y="SPAD values")+
scale_fill_manual(values = c( "#0D0887FF" ,"#F0F921FF"),c("Chlorophyll front","Chlorophyll mid"))+
theme_minimal()+
theme(
plot.title = element_text(size = 15,face = "bold",hjust = 0.5),
axis.title.x = element_text(size=13),
axis.title.y = element_text(size=13),
axis.text.x = element_text(size = 11,angle = 45,hjust = 1),
axis.text.y = element_text(size =11),
strip.text = element_text(size = 13),
legend.text = element_text(size = 11),
legend.title = element_text(size = 13),
legend.position = "bottom"
)
chlorophyll_plot
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean_rp,aes(x=substr(sample_name,1,3),y=chlorophyll_value,fill = chlorophyll_type))+
geom_boxplot(alpha =0.2)+
ggtitle("Chlorophyll Content of Oilseed Rape leaves per field")+
labs(x="Field Numbers",y="SPAD values")+
scale_fill_manual(values = c( "#0D0887FF" ,"#F0F921FF"),c("Chlorophyll front","Chlorophyll mid"))+
theme_minimal()+
theme(
plot.title = element_text(size = 15,face = "bold",hjust = 0.5),
axis.title.x = element_text(size=13),
axis.title.y = element_text(size=13),
axis.text.x = element_text(size = 11,angle = 45,hjust = 1),
axis.text.y = element_text(size =11),
strip.text = element_text(size = 13),
legend.text = element_text(size = 11),
legend.title = element_text(size = 13),
legend.position = "bottom"
)
chlorophyll_plot
chlorophyll_plot <- ggplot(chlorophyll_data_long_clean_rp,aes(x=substr(sample_name,1,3),y=chlorophyll_value,fill = chlorophyll_type))+
geom_boxplot(alpha =0.4)+
ggtitle("Chlorophyll Content of Oilseed Rape leaves per field")+
labs(x="Field Numbers",y="SPAD values")+
scale_fill_manual(values = c( "#0D0887FF" ,"#F0F921FF"),c("Chlorophyll front","Chlorophyll mid"))+
theme_minimal()+
theme(
plot.title = element_text(size = 15,face = "bold",hjust = 0.5),
axis.title.x = element_text(size=13),
axis.title.y = element_text(size=13),
axis.text.x = element_text(size = 11,angle = 45,hjust = 1),
axis.text.y = element_text(size =11),
strip.text = element_text(size = 13),
legend.text = element_text(size = 11),
legend.title = element_text(size = 13),
legend.position = "bottom"
)
chlorophyll_plot
#combine chlorophyll_mid with chlorophyll_front to chlorophyll
chlorophyll_overall_clean_rp <- chlorophyll_data_clean_rp_median_plot %>%
mutate(chlorophyll_average = (chlorophyll_front+chlorophyll_mid)/2)
View(chlorophyll_overall_clean_rp)
#combine chlorophyll_mid with chlorophyll_front to chlorophyll
chlorophyll_overall_clean_rp <- chlorophyll_data_clean_rp_median_plot %>%
mutate(chlorophyll_average = (chlorophyll_front+chlorophyll_mid)/2) %>%
select(-c(chlorophyll_front,chlorophyll_mid))
chlorophyll_overall_clean_rp_long <- chlorophyll_overall_clean_rp %>%
pivot_longer(cols = 2,values_to = "measurement", names_to = "variable")
#combine data sets for plotting
plant_combined_data <- bind_rows(chlorophyll_overall_clean_rp_long,
plant_height_clean_rp_median_plot_long,
root_health_data_clean_rp_mean_plot_long,
sla_data_clean_rp_mean_plot_long)
#3. create plots####
mean_lines <- plant_combined_data_rp %>%
group_by(variable,farming_system) %>%
summarise(mean_value = mean(measurement,na.rm=TRUE),.groups = "drop")
ggsave("./02_output/09_plant_health/chlorophyll_boxplot.png",plot = ph_plot,
width = 19, height=9, units = "cm", dpi = 300)
ggsave("./02_output/09_plant_health/chlorophyll_boxplot.png",plot = chlorophyll_plot,
width = 19, height=9, units = "cm", dpi = 300)
plant_plot <- thesis_plot(plant_combined_data_rp,plant_combined_data_rp$sample_name,
plant_combined_data$measurement,mean_lines)
plant_plot
#combine data sets for plotting
plant_combined_data <- bind_rows(chlorophyll_overall_clean_rp_long,
plant_height_clean_rp_median_plot_long,
root_health_data_clean_rp_mean_plot_long,
sla_data_clean_rp_mean_plot_long)
plant_combined_data_rp <- plot_prepr(plant_combined_data)
write.xlsx(plant_combined_data_rp,"./02_output/09_plant_health/combined_plant_data_rp.xlsx")
saveRDS(plant_combined_data_rp,"./01_input/combined_pland_data_clean_rp.rds")
#3. create plots####
mean_lines <- plant_combined_data_rp %>%
group_by(variable,farming_system) %>%
summarise(mean_value = mean(measurement,na.rm=TRUE),.groups = "drop")
plant_plot <- thesis_plot(plant_combined_data_rp,plant_combined_data_rp$sample_name,
plant_combined_data$measurement,mean_lines)
plant_plot
plant_plot <- thesis_plot(plant_combined_data_rp,plant_combined_data_rp$sample_name,
plant_combined_data$measurement,mean_lines)+
facet_wrap(vars(variable),scales = "free_y")
plant_plot
plant_combined_data_rp <- plant_combined_data_rp %>%
filter(variable != "leaf_area_cm2" | variable != "leaf_weight_g")
plant_plot <- thesis_plot(plant_combined_data_rp,plant_combined_data_rp$sample_name,
plant_combined_data$measurement,mean_lines)+
facet_wrap(vars(variable),scales = "free_y")
plant_plot
plant_combined_data_rp <- plant_combined_data_rp %>%
filter(variable != "leaf_area_cm2" | variable != "leaf_weight_g")
View(plant_combined_data_rp)
plant_combined_data_rp <- plant_combined_data_rp %>%
filter(variable != "leaf_area_cm2")
plant_combined_data_rp <- plant_combined_data_rp %>%
filter(variable != "leaf_area_cm2") %>%
filter(variable != "leaf_weight_g")
plant_plot <- thesis_plot(plant_combined_data_rp,plant_combined_data_rp$sample_name,
plant_combined_data$measurement,mean_lines)+
facet_wrap(vars(variable),scales = "free_y")
plant_plot
plant_combined_data_rp <- plant_combined_data_rp %>%
filter(variable != "leaf_area_cm2") %>%
filter(variable != "leaf_weight_g")
plant_plot <- thesis_plot(plant_combined_data_rp,plant_combined_data_rp$sample_name,
plant_combined_data$measurement,mean_lines)+
facet_wrap(vars(variable),scales = "free_y")
plant_plot
plant_plot <- thesis_plot(plant_combined_data_rp,plant_combined_data_rp$sample_name,
plant_combined_data_rp$measurement,mean_lines)+
facet_wrap(vars(variable),scales = "free_y")
plant_plot
mean_lines <- plant_combined_data_rp %>%
group_by(variable,farming_system) %>%
summarise(mean_value = mean(measurement,na.rm=TRUE),.groups = "drop")
plant_plot <- thesis_plot(plant_combined_data_rp,plant_combined_data_rp$sample_name,
plant_combined_data_rp$measurement,mean_lines)+
facet_wrap(vars(variable),scales = "free_y")
plant_plot
unique(plant_combined_data_rp$variable)
clean_plant_names <- function(df,col_cont_par_name){
parameter_names_clean <- list("chlorophyll_average" = "Chlorophyll (SPAD)",
"height_cm" = "Plant height (cm)",
"root_health_score" = "Root health score",
"sla" = "Specific Leaf Area" )
df_clean_names <- df %>%
mutate({{ col_cont_par_name }} := recode({{ col_cont_par_name }}, !!!parameter_names_clean))
return(df_clean_names)
}
plant_combined_data_rp_cn <- clean_plant_names(plant_combined_data_rp,variable)
mean_lines <- plant_combined_data_rp %>%
group_by(variable,farming_system) %>%
summarise(mean_value = mean(measurement,na.rm=TRUE),.groups = "drop")
plant_plot <- thesis_plot(plant_combined_data_rp,plant_combined_data_rp$sample_name,
plant_combined_data_rp$measurement,mean_lines)+
facet_wrap(vars(variable),scales = "free_y")
plant_plot
mean_lines <- plant_combined_data_rp_cn %>%
group_by(variable,farming_system) %>%
summarise(mean_value = mean(measurement,na.rm=TRUE),.groups = "drop")
plant_combined_data_rp_cn <- clean_plant_names(plant_combined_data_rp,variable)
mean_lines <- plant_combined_data_rp_cn %>%
group_by(variable,farming_system) %>%
summarise(mean_value = mean(measurement,na.rm=TRUE),.groups = "drop")
plant_plot <- thesis_plot(plant_combined_data_rp_cn,plant_combined_data_rp_cn$sample_name,
plant_combined_data_rp_cn$measurement,mean_lines)+
facet_wrap(vars(variable),scales = "free_y")
plant_plot
parameter_names_clean <- list("chlorophyll_average" = "Chlorophyll (SPAD)",
"height_cm" = "Plant height (cm)",
"root_health_score" = "Root health score",
"sla" = "Specific Leaf Area (g/cm2)" )
clean_plant_names <- function(df,col_cont_par_name){
parameter_names_clean <- list("chlorophyll_average" = "Chlorophyll (SPAD)",
"height_cm" = "Plant height (cm)",
"root_health_score" = "Root health score",
"sla" = "Specific Leaf Area (g/cm2)" )
df_clean_names <- df %>%
mutate({{ col_cont_par_name }} := recode({{ col_cont_par_name }}, !!!parameter_names_clean))
return(df_clean_names)
}
plant_combined_data_rp_cn <- clean_plant_names(plant_combined_data_rp,variable)
mean_lines <- plant_combined_data_rp_cn %>%
group_by(variable,farming_system) %>%
summarise(mean_value = mean(measurement,na.rm=TRUE),.groups = "drop")
plant_plot <- thesis_plot(plant_combined_data_rp_cn,plant_combined_data_rp_cn$sample_name,
plant_combined_data_rp_cn$measurement,mean_lines)+
facet_wrap(vars(variable),scales = "free_y")
plant_plot
plant_plot <- thesis_plot(plant_combined_data_rp_cn,plant_combined_data_rp_cn$sample_name,
plant_combined_data_rp_cn$measurement,mean_lines)+
ggtitle("Plant Parameter Measurements per Field")
plant_plot <- thesis_plot(plant_combined_data_rp_cn,plant_combined_data_rp_cn$sample_name,
plant_combined_data_rp_cn$measurement,mean_lines)+
ggtitle("Plant Parameter Measurements per Field")+
facet_wrap(vars(variable),scales = "free_y")
plant_plot
median_lines <- plant_combined_data_rp_cn %>%
group_by(variable,farming_system) %>%
summarise(mean_value = median(measurement,na.rm=TRUE),.groups = "drop")
plant_plot <- thesis_plot(plant_combined_data_rp_cn,plant_combined_data_rp_cn$sample_name,
plant_combined_data_rp_cn$measurement,median_lines)+
ggtitle("Plant Parameter Measurements per Field")+
facet_wrap(vars(variable),scales = "free_y")
plant_plot
plant_plot <- thesis_plot(plant_combined_data_rp_cn,plant_combined_data_rp_cn$sample_name,
plant_combined_data_rp_cn$measurement,mean_lines)+
ggtitle("Plant Parameter Measurements per Field")+
facet_wrap(vars(variable),scales = "free_y")
plant_plot <- thesis_plot(plant_combined_data_rp_cn,plant_combined_data_rp_cn$sample_name,
plant_combined_data_rp_cn$measurement,mean_lines)+
ggtitle("Plant Parameter Measurements per Field Plot")+
facet_wrap(vars(variable),scales = "free_y")
plant_plot
ggsave("./02_output/09_plant_health/plant_results.png",plot = plant_plot,
width = 19, height=13, units = "cm", dpi = 300)
