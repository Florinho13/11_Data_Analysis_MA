#export preparation
set_table_properties(width = 1, layout = "autofit")
plant_flex
doc <- read_docx() %>%
body_add_par("Table X: Plant health parameters by field", style = "heading 1") %>%
body_add_flextable(
plant_flex %>%
autofit() %>%
set_table_properties(width = 1, layout = "autofit")   # scales table to page width
) %>%
body_add_par("", style = "Normal")
print(doc,target = "./02_output/14_thesis_tables/thesis_table_plant.docx")
#14. thesis table ####
create_thesis_table_ft <- function(input_df){
input_df %>%
flextable() %>%
autofit() %>%
# ---- Header formatting ----
bold(part = "header") %>%
bg(part = "header", bg = "#DDDDDD") %>%
#farm_id
bold(
i = ~ str_detect(`Farm ID`, "_1$"),   # condition: ends with "_1"
j = "Farm ID",                        # only apply to Farm ID column
bold = TRUE
) %>%
border(
j = "Farm ID",
border.right = fp_border(color = "black", width = 1),
part = "all"   # applies to header + body
) %>%
bg(j = "Farm ID", bg = "#F2F2F2", part = "all") %>%
bg(
i = ~ str_detect(`Farm ID`, "_1$"),   # condition
bg = regen_col,
#j = "Farm ID"# all columns will be colored
) %>%
bg(
i = ~ str_detect(`Farm ID`, "_2$"),   # condition
bg = conv_col,                     # all columns will be colored
) %>%
#export preparation
set_table_properties(width = 1, layout = "autofit")
}
test <- create_thesis_table_ft(plant_overview_means)
test
View(soil_biological_param)
#3. create thesis tables####
#biological means table
soil_biological_param_plot <- soil_biological_param %>%
group_by(sample_name) %>%
summarise(across(2:3),~mean(.x,na.rm = TRUE))
#3. create thesis tables####
#biological means table
soil_biological_param_plot <- soil_biological_param %>%
group_by(sample_name) %>%
summarise(across(2:3,~mean(.x,na.rm = TRUE)))
str(soil_biological_param)
#3. create thesis tables####
#biological means table
soil_biological_param_plot <- soil_biological_param %>%
group_by(sample_name) %>%
summarise(across(c,(2,3),~mean(.x,na.rm = TRUE)))
#3. create thesis tables####
#biological means table
soil_biological_param_plot <- soil_biological_param %>%
group_by(sample_name) %>%
summarise(across(c(2,3),~mean(.x,na.rm = TRUE)))
#3. create thesis tables####
#biological means table
soil_biological_param_plot <- soil_biological_param %>%
group_by(sample_name) %>%
summarise(across(c(1,2),~mean(.x,na.rm = TRUE)))
View(soil_biological_param_plot)
#3. create thesis tables####
#biological means table
soil_biological_param_mean_field <- soil_biological_param %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(c(1,2),~mean(.x,na.rm = TRUE)))
#3. create thesis tables####
#biological means table
soil_biological_param_mean_field <- soil_biological_param %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(1:2,~mean(.x,na.rm = TRUE)))
str(soil_biological_param)
View(soil_biological_param_mean_field)
#3. create thesis tables####
#biological means table
soil_biological_param_mean_field <- soil_biological_param %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:3,~mean(.x,na.rm = TRUE)))
View(soil_biological_param_mean_field)
#3. create thesis tables####
#biological means table
soil_biological_param_mean_field <- soil_biological_param %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:3,~mean(.x,na.rm = TRUE)))%>%
rename("field_id" = "substr(sample_name, 1, 3)")
#3. create thesis tables####
#biological means table
soil_biological_param_mean_field <- soil_biological_param %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:3,~mean(.x,na.rm = TRUE)))%>%
rename("Field ID" = "substr(sample_name, 1, 3)")
soil_bio_table <- create_thesis_table_ft(soil_biological_param_mean_field)
#3. create thesis tables####
#biological means table
soil_biological_param_mean_field <- soil_biological_param %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:3,~mean(.x,na.rm = TRUE)))%>%
rename("Farm ID" = "substr(sample_name, 1, 3)")
#3. create thesis tables####
#biological means table
soil_biological_param_mean_field <- soil_biological_param %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:3,~mean(.x,na.rm = TRUE)))%>%
rename("Farm ID" = "substr(sample_name, 1, 3)")
soil_bio_table <- create_thesis_table_ft(soil_biological_param_mean_field)
soil_bio_table
#3. create thesis tables####
#biological means table
soil_biological_param_mean_field <- soil_biological_param %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:3,~mean(.x,na.rm = TRUE)))%>%
rename("Farm ID" = "substr(sample_name, 1, 3)",
"Microbial C (mg/g)" = "microbial_c",
"Microbial N (mg/g)" = "microbial_n")
#3. create thesis tables####
#biological means table
soil_biological_param_mean_field <- soil_biological_param %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:3,~mean(.x,na.rm = TRUE)))%>%
rename("Farm ID" = "substr(sample_name, 1, 3)",
"Microbial C (mg/g)" = "microbial_c",
"Microbial N (mg/g)" = "microbial_N")
soil_bio_table <- create_thesis_table_ft(soil_biological_param_mean_field)
soil_bio_table
doc <- read_docx() %>%
body_add_par("Table X: Plant health parameters by field", style = "heading 1") %>%
body_add_flextable(
soil_bio_table %>%
autofit() %>%
set_table_properties(width = 1, layout = "autofit")   # scales table to page width
) %>%
body_add_par("", style = "Normal")
print(doc,target = "./02_output/14_thesis_tables/thesis_table_soil_bio.docx")
#3. create thesis tables####
#biological means table
soil_biological_param_mean_field <- soil_biological_param %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:3,~round(mean(.x,na.rm = TRUE),2)))%>%
rename("Farm ID" = "substr(sample_name, 1, 3)",
"Microbial C (mg/g)" = "microbial_c",
"Microbial N (mg/g)" = "microbial_N")
soil_bio_table <- create_thesis_table_ft(soil_biological_param_mean_field)
soil_bio_table
doc <- read_docx() %>%
body_add_par("Table X: Plant health parameters by field", style = "heading 1") %>%
body_add_flextable(
soil_bio_table %>%
autofit() %>%
set_table_properties(width = 1, layout = "autofit")   # scales table to page width
) %>%
body_add_par("", style = "Normal")
print(doc,target = "./02_output/14_thesis_tables/thesis_table_soil_bio.docx")
View(soil_physical_param)
#physical_means_table
soil_physical_param_mean_field <- soil_physical_param %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:5,~round(mean(.x,na.rm = TRUE),2)))%>%
rename("Farm ID" = "substr(sample_name, 1, 3)")
View(soil_physical_param_mean_field)
soil_phys_table <- create_thesis_table_ft(soil_physical_param_mean_field)
soil_phys_table
#physical_means_table
soil_physical_param_mean_field <- soil_physical_param %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:5,~round(mean(.x,na.rm = TRUE),2)))%>%
rename("Farm ID" = "substr(sample_name, 1, 3)",
"Clay (%)" = "clay",
"Silt (%)" = "silt",
"Sand (%)" = "sand",
"Bulkd Density (g/cm3)" = "mean_BD_g_cm3")
soil_phys_table <- create_thesis_table_ft(soil_physical_param_mean_field)
soil_phys_table
#physical_means_table
soil_physical_param_mean_field <- soil_physical_param %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:5,~round(mean(.x,na.rm = TRUE),2)))%>%
rename("Farm ID" = "substr(sample_name, 1, 3)",
"Clay (%)" = "clay",
"Silt (%)" = "silt",
"Sand (%)" = "sand",
"Bulk Density (g/cm3)" = "mean_BD_g_cm3")
soil_phys_table <- create_thesis_table_ft(soil_physical_param_mean_field)
header_df <- data.frame(
col_keys = names(soil_physical_param_mean_field),
group    = c(
"",                   # Substance name
rep("Soil Texture Distribution",3),
""  ),
col_labels = c("Farm ID", "Clay (%)","Silt (%)", "Sand (%)", "Bulk Density (g/cm3)"),
stringsAsFactors = FALSE
)
soil_phys_table <- create_thesis_table_ft(soil_physical_param_mean_field) %>%
set_header_df(mapping = header_df, key = "col_keys")
soil_phys_table
header_df <- data.frame(
col_keys = names(soil_physical_param_mean_field),
group    = c(
"",                   # Substance name
rep("Soil Texture Distribution",3),
""  ),
#col_labels = c("Farm ID", "Clay (%)","Silt (%)", "Sand (%)", "Bulk Density (g/cm3)"),
stringsAsFactors = FALSE
)
soil_phys_table <- create_thesis_table_ft(soil_physical_param_mean_field) %>%
set_header_df(mapping = header_df, key = "col_keys")
soil_phys_table
soil_phys_table <- create_thesis_table_ft(soil_physical_param_mean_field)
soil_phys_table
#physical_means_table
soil_physical_param_mean_field <- soil_physical_param %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:5,~round(mean(.x,na.rm = TRUE),2)))%>%
rename("Farm ID" = "substr(sample_name, 1, 3)",
"Clay (%)" = "clay",
"Silt (%)" = "silt",
"Sand (%)" = "sand",
"Bulk Density (g/cm3)" = "mean_BD_g_cm3") %>%
mutate(Classification = c("SiLo","SiLo","SaLo","SiLo","SiLo","SiLo","SiLo",
"SiLo","SiLo","Lo","Lo"))
soil_phys_table <- create_thesis_table_ft(soil_physical_param_mean_field)
soil_phys_table
#physical_means_table
soil_physical_param_mean_field <- soil_physical_param %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:5,~round(mean(.x,na.rm = TRUE),2)))%>%
rename("Farm ID" = "substr(sample_name, 1, 3)",
"Clay (%)" = "clay",
"Silt (%)" = "silt",
"Sand (%)" = "sand",
"Bulk Density (g/cm3)" = "mean_BD_g_cm3") %>%
mutate(Classification = c("SiLo","SiLo","SaLo","SiLo","SiLo","SiLo","SiLo",
"SiLo","SiLo","Lo","Lo"),.after=4)
soil_phys_table <- create_thesis_table_ft(soil_physical_param_mean_field)
soil_phys_table
#physical_means_table
soil_physical_param_mean_field <- soil_physical_param %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:5,~round(mean(.x,na.rm = TRUE),2)))%>%
rename("Farm ID" = "substr(sample_name, 1, 3)",
"Clay (%)" = "clay",
"Silt (%)" = "silt",
"Sand (%)" = "sand",
"Bulk Density (g/cm3)" = "mean_BD_g_cm3") %>%
mutate(Classification = c("SiLo","SiLo","SaLo","SiLo","SiLo","SiLo","SiLo",
"SiLo","SiLo","Lo","Lo"),.after=1)
soil_phys_table <- create_thesis_table_ft(soil_physical_param_mean_field)
soil_phys_table
doc <- read_docx() %>%
body_add_par("Table X: Plant health parameters by field", style = "heading 1") %>%
body_add_flextable(
soil_phys_table %>%
autofit() %>%
set_table_properties(width = 1, layout = "autofit")   # scales table to page width
) %>%
body_add_par("", style = "Normal")
print(doc,target = "./02_output/14_thesis_tables/thesis_table_soil_phys.docx")
View(soil_chemical_param)
#chemical_means_table
soil_chem_param_mean_field <- soil_chemical_param %>%
select(Hplus_conc_mol_l,cec_NaMgCaKAl_mmol_kg,base_saturation,`N%_normal`,
`C%_normal`,`C/N_normal`,Corg)
View(soil_chem_param_mean_field)
#chemical_means_table
soil_chem_param_mean_field <- soil_chemical_param %>%
select(Hplus_conc_mol_l,cec_NaMgCaKAl_mmol_kg,base_saturation,`C%_normal`,
Corg,`N%_normal`,`C/N_normal`)
#chemical_means_table
soil_chem_param_mean_field <- soil_chemical_param %>%
select(sample_name,Hplus_conc_mol_l,cec_NaMgCaKAl_mmol_kg,base_saturation,`C%_normal`,
Corg,`N%_normal`,`C/N_normal`)
#chemical_means_table
soil_chem_param_mean_field <- soil_chemical_param %>%
select(sample_name,Hplus_conc_mol_l,cec_NaMgCaKAl_mmol_kg,base_saturation,`C%_normal`,
Corg,`N%_normal`,`C/N_normal`) %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:8,~round(mean(.x,na.rm = TRUE),2)))
#chemical_means_table
soil_chem_param_mean_field <- soil_chemical_param %>%
select(sample_name,Hplus_conc_mol_l,cec_NaMgCaKAl_mmol_kg,base_saturation,`C%_normal`,
Corg,`N%_normal`,`C/N_normal`) %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:8,~round(mean(.x,na.rm = TRUE),2))) %>%
clean_soil_names()
colnames(soil_chem_param_mean_field)
#chemical_means_table
soil_chem_param_mean_field <- soil_chemical_param %>%
select(sample_name,Hplus_conc_mol_l,cec_NaMgCaKAl_mmol_kg,base_saturation,`C%_normal`,
Corg,`N%_normal`,`C/N_normal`) %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:8,~round(mean(.x,na.rm = TRUE),2))) %>%
rename("Farm ID" = "substr(sample_name, 1, 3)",
"pH" = "Hplus_conc_mol_l",
"CEC NA,Mg,Ca,K,Al (mmol/kg)" = "cec_NaMgCaKAl_mmol_kg",
"Base Saturation" = "base_saturation",
"C (%)" = "C%_normal",
"Corg (%)" = "Corg",
"N (%)" = "N%_normal",
"C/N Ratio = C/N_normal") %>%
mutate(pH = -log10(pH))
#chemical_means_table
soil_chem_param_mean_field <- soil_chemical_param %>%
select(sample_name,Hplus_conc_mol_l,cec_NaMgCaKAl_mmol_kg,base_saturation,`C%_normal`,
Corg,`N%_normal`,`C/N_normal`) %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:8,~round(mean(.x,na.rm = TRUE),2))) %>%
rename("Farm ID" = "substr(sample_name, 1, 3)",
"pH" = "Hplus_conc_mol_l",
"CEC NA,Mg,Ca,K,Al (mmol/kg)" = "cec_NaMgCaKAl_mmol_kg",
"Base Saturation" = "base_saturation",
"C (%)" = "C%_normal",
"Corg (%)" = "Corg",
"N (%)" = "N%_normal",
"C/N Ratio" = "C/N_normal") %>%
mutate(pH = -log10(pH))
View(soil_physical_param_mean_field)
View(soil_chem_param_mean_field)
#chemical_means_table
soil_chem_param_mean_field <- soil_chemical_param %>%
select(sample_name,Hplus_conc_mol_l,cec_NaMgCaKAl_mmol_kg,base_saturation,`C%_normal`,
Corg,`N%_normal`,`C/N_normal`) %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:8,~round(mean(.x,na.rm = TRUE),2))) %>%
rename("Farm ID" = "substr(sample_name, 1, 3)",
"pH" = "Hplus_conc_mol_l",
"CEC NA,Mg,Ca,K,Al (mmol/kg)" = "cec_NaMgCaKAl_mmol_kg",
"Base Saturation" = "base_saturation",
"C (%)" = "C%_normal",
"Corg (%)" = "Corg",
"N (%)" = "N%_normal",
"C/N Ratio" = "C/N_normal")
View(soil_chem_param_mean_field)
#chemical_means_table
soil_chem_param_mean_field <- soil_chemical_param %>%
select(sample_name,Hplus_conc_mol_l,cec_NaMgCaKAl_mmol_kg,base_saturation,`C%_normal`,
Corg,`N%_normal`,`C/N_normal`) %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:8,~round(mean(.x,na.rm = TRUE),2)))
View(soil_chem_param_mean_field)
#chemical_means_table
soil_chem_param_mean_field <- soil_chemical_param %>%
select(sample_name,Hplus_conc_mol_l,cec_NaMgCaKAl_mmol_kg,base_saturation,`C%_normal`,
Corg,`N%_normal`,`C/N_normal`) %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:8,~round(mean(.x,na.rm = TRUE),2)))
View(soil_chem_param_mean_field)
View(soil_chemical_param)
#chemical_means_table
soil_chem_param_mean_field <- soil_chemical_param %>%
select(sample_name,Hplus_conc_mol_l,cec_NaMgCaKAl_mmol_kg,base_saturation,`C%_normal`,
Corg,`N%_normal`,`C/N_normal`) %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:8,~mean(.x,na.rm = TRUE))) %>%
rename("Farm ID" = "substr(sample_name, 1, 3)",
"pH" = "Hplus_conc_mol_l",
"CEC NA,Mg,Ca,K,Al (mmol/kg)" = "cec_NaMgCaKAl_mmol_kg",
"Base Saturation" = "base_saturation",
"C (%)" = "C%_normal",
"Corg (%)" = "Corg",
"N (%)" = "N%_normal",
"C/N Ratio" = "C/N_normal") %>%
mutate(pH = -log10(pH))
View(soil_chem_param_mean_field)
#chemical_means_table
soil_chem_param_mean_field <- soil_chemical_param %>%
select(sample_name,Hplus_conc_mol_l,cec_NaMgCaKAl_mmol_kg,base_saturation,`C%_normal`,
Corg,`N%_normal`,`C/N_normal`) %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:8,~mean(.x,na.rm = TRUE))) %>%
rename("Farm ID" = "substr(sample_name, 1, 3)",
"pH" = "Hplus_conc_mol_l",
"CEC NA,Mg,Ca,K,Al (mmol/kg)" = "cec_NaMgCaKAl_mmol_kg",
"Base Saturation" = "base_saturation",
"C (%)" = "C%_normal",
"Corg (%)" = "Corg",
"N (%)" = "N%_normal",
"C/N Ratio" = "C/N_normal") %>%
mutate(pH = -log10(pH)) %>%
round(across(2:8),2)
#chemical_means_table
soil_chem_param_mean_field <- soil_chemical_param %>%
select(sample_name,Hplus_conc_mol_l,cec_NaMgCaKAl_mmol_kg,base_saturation,`C%_normal`,
Corg,`N%_normal`,`C/N_normal`) %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:8,~mean(.x,na.rm = TRUE))) %>%
rename("Farm ID" = "substr(sample_name, 1, 3)",
"pH" = "Hplus_conc_mol_l",
"CEC NA,Mg,Ca,K,Al (mmol/kg)" = "cec_NaMgCaKAl_mmol_kg",
"Base Saturation" = "base_saturation",
"C (%)" = "C%_normal",
"Corg (%)" = "Corg",
"N (%)" = "N%_normal",
"C/N Ratio" = "C/N_normal") %>%
mutate(pH = -log10(pH)) %>%
mutate(across(2:8,~round(.x,2)))
soil_chem_table <- create_thesis_table_ft(soil_chemical_param)
#chemical_means_table
soil_chem_param_mean_field <- soil_chemical_param %>%
select(sample_name,Hplus_conc_mol_l,cec_NaMgCaKAl_mmol_kg,base_saturation,`C%_normal`,
Corg,`N%_normal`,`C/N_normal`) %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:8,~mean(.x,na.rm = TRUE))) %>%
rename("Farm ID" = "substr(sample_name, 1, 3)",
"pH" = "Hplus_conc_mol_l",
"CEC NA,Mg,Ca,K,Al (mmol/kg)" = "cec_NaMgCaKAl_mmol_kg",
"Base Saturation" = "base_saturation",
"C (%)" = "C%_normal",
"Corg (%)" = "Corg",
"N (%)" = "N%_normal",
"C/N Ratio" = "C/N_normal") %>%
mutate(pH = -log10(pH)) %>%
mutate(across(2:8,~round(.x,2)))
soil_chem_table <- create_thesis_table_ft(soil_chemical_param)
View(soil_chem_param_mean_field)
#chemical_means_table
soil_chem_param_mean_field <- soil_chemical_param %>%
select(sample_name,Hplus_conc_mol_l,cec_NaMgCaKAl_mmol_kg,base_saturation,`C%_normal`,
Corg,`N%_normal`,`C/N_normal`) %>%
group_by(substr(sample_name,1,3)) %>%
summarise(across(2:8,~mean(.x,na.rm = TRUE))) %>%
rename('Farm ID' = "substr(sample_name, 1, 3)",
"pH" = "Hplus_conc_mol_l",
"CEC NA,Mg,Ca,K,Al (mmol/kg)" = "cec_NaMgCaKAl_mmol_kg",
"Base Saturation" = "base_saturation",
"C (%)" = "C%_normal",
"Corg (%)" = "Corg",
"N (%)" = "N%_normal",
"C/N Ratio" = "C/N_normal") %>%
mutate(pH = -log10(pH)) %>%
mutate(across(2:8,~round(.x,2)))
soil_chem_table <- create_thesis_table_ft(soil_chemical_param)
soil_chem_table <- create_thesis_table_ft(soil_chem_param_mean_field)
soil_chem_table
doc <- read_docx() %>%
body_add_par("Table X: Plant health parameters by field", style = "heading 1") %>%
body_add_flextable(
soil_chem_table %>%
autofit() %>%
set_table_properties(width = 1, layout = "autofit")   # scales table to page width
) %>%
body_add_par("", style = "Normal")
print(doc,target = "./02_output/14_thesis_tables/thesis_table_soil_chem.docx")
View(phys_res)
all_res <- bind_rows(bio_res, chem_res, phys_res)
View(all_res)
write.csv(all_res,"./02_output/12_statistical_tests/mixed_model_tests.csv")
View(all_res)
View(soil_comb_chem)
View(soil_comb_chem)
View(soil_comb_chem)
View(soil_comb_phys)
View(soil_comb_chem)
View(soil_comb_chem)
View(all_res)
View(all_res)
soil_chemical_param <- read.xlsx("./02_output/12_statistical_tests/soil_comb_chem.xlsx")
View(soil_chemical_param)
c/n_ratio <- soil_chemical_param %>%
group_by(substr(sample_name,3,3)) %>%
summarise(med = median(`C/N_normal`,na.rm =TRUE))
c/n_ratio <- soil_chemical_param %>%
group_by(substr(sample_name,3,3)) %>%
summarise(med = median(`C/N_normal`,na.rm =TRUE))
c_n_ratio <- soil_chemical_param %>%
group_by(substr(sample_name,3,3)) %>%
summarise(med = median(`C/N_normal`,na.rm =TRUE))
View(c_n_ratio)
average = mean(`C/N_normal`,na.rm =TRUE)
c_n_ratio <- soil_chemical_param %>%
group_by(substr(sample_name,3,3)) %>%
summarise(med = median(`C/N_normal`,na.rm =TRUE),
average = mean(`C/N_normal`,na.rm =TRUE))
regenerative_score <- read.xlsx("./01_input/regenerative_score_2025_08_16.xlsx",sheet = 1)
#create additional row for farm 2_2 with interpolated ra score
c_names <- colnames(regenerative_score)
additional_row_2_2 <- data.frame("2_2",1,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA)
colnames(additional_row_2_2) <- c_names
regenerative_score_yr1 <- regenerative_score %>%
filter(year == 1)
regenerative_score_yr1_conv <- regenerative_score_yr1 %>%
filter(substr(participant,3,3)== 2)
additional_row_2_2[,12] <- round(mean(regenerative_score_yr1_conv$RA_score),0)
regenerative_score_yr1_ready <- regenerative_score_yr1 %>%
bind_rows(additional_row_2_2) %>%
select(participant,RA_score)
#get four year average ra scores and add average conventional to 2_2
regenerative_score_mean <- regenerative_score %>%
group_by(participant) %>%
summarise(RA_average = mean(RA_score),.groups = "drop")
regenerative_score_mean_conv <- regenerative_score_mean %>%
filter(substr(participant,3,3)== 2)
c_names <- colnames(regenerative_score_mean)
additional_row_2_2 <- data.frame("2_2",NA)
colnames(additional_row_2_2) <- c_names
additional_row_2_2[,2] <- mean(regenerative_score_mean_conv$RA_average)
regenerative_score_mean_ready <- regenerative_score_mean %>%
bind_rows(additional_row_2_2)
regenerative_score_yr1_average <- regenerative_score_yr1_ready %>%
left_join(regenerative_score_mean_ready)
View(soil_chemical_param)
